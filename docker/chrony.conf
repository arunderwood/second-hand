# Chrony configuration for integration testing
# Uses local stratum 10 for predictable test behavior

# Use local clock as reference (stratum 10)
local stratum 10

# Allow connections from localhost
allow 127.0.0.1
allow ::1

# Allow cmdmonitor connections from localhost
cmdallow 127.0.0.1
cmdallow ::1

# Allow all users to access the command socket (for testing)
cmdallow all

# Disable cmdport for network connections (use socket only)
cmdport 0

# Bind command socket
bindcmdaddress /run/chrony/chronyd.sock

# Log directory
logdir /var/log/chrony

# Drift file
driftfile /var/lib/chrony/drift
